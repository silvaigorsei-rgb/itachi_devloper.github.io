<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>I Love You eclipse</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: black;
}
canvas {
    display: block;
}
</style>
</head>
<body>

<canvas id="heartCanvas"></canvas>

<script>
const canvas = document.getElementById("heartCanvas");
const ctx = canvas.getContext("2d");

let w, h;
const particles = [];
const POINTS = 220;
const TRAIL = 30;

const heart = t => ({
    x: 16 * Math.pow(Math.sin(t), 3),
    y: 13 * Math.cos(t) - 5 * Math.cos(2*t)
       - 2 * Math.cos(3*t) - Math.cos(4*t)
});

function resize() {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

for (let i = 0; i < POINTS; i++) {
    const x = Math.random() * w;
    const y = Math.random() * h;
    particles.push({
        x, y, vx: 0, vy: 0,
        trail: Array.from({length: TRAIL}, () => ({x, y})),
        color: `hsla(${340 + Math.random()*20},90%,65%,0.45)`
    });
}

let startTime = Date.now();

function drawText(time) {
    const fade = Math.min((Date.now() - startTime) / 3000, 1);
    const pulse = 1 + Math.sin(time * 3) * 0.05;

    ctx.save();
    ctx.globalAlpha = fade;
    ctx.font = `${50 * pulse}px "Georgia", serif`;
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";

    ctx.shadowColor = "rgba(255, 80, 150, 0.9)";
    ctx.shadowBlur = 25 + Math.sin(time * 4) * 10;

    ctx.fillStyle = "rgba(255,200,220,1)";
    ctx.fillText("I love you Hermione", w/2, h/2);
    ctx.restore();
}

function animate() {
    ctx.fillStyle = "rgba(0,0,0,0.12)";
    ctx.fillRect(0,0,w,h);

    const time = Date.now() * 0.001;
    const beat = 1 + Math.sin(time * 3) * 0.12;

    particles.forEach((p,i) => {
        const t = i / POINTS * Math.PI * 2;
        const target = heart(t);

        const tx = target.x * 22 * beat + w/2;
        const ty = -target.y * 22 * beat + h/2;

        p.vx += (tx - p.x) * 0.015;
        p.vy += (ty - p.y) * 0.015;

        p.x += p.vx;
        p.y += p.vy;

        p.vx *= 0.9;
        p.vy *= 0.9;

        p.trail.unshift({x: p.x, y: p.y});
        p.trail.pop();

        ctx.fillStyle = p.color;
        p.trail.forEach(t => ctx.fillRect(t.x, t.y, 1, 1));
    });

    drawText(time);
    requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>

