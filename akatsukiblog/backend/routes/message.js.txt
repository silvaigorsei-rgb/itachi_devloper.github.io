const router = require('express').Router();
const Comment = require('../models/Comment');

// Listar comentários de um post
router.get('/:postId', async (req,res)=>{
  const comments = await Comment.find({ postId:req.params.postId });
  res.json(comments);
});

// Adicionar comentário
router.post('/', async (req,res)=>{
  const c = new Comment({
    postId:req.body.postId,
    username:req.body.username,
    content:req.body.content
  });
  await c.save();
  res.json({ message:'Comentário adicionado' });
});

module.exports = router;
